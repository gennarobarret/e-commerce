{"ast":null,"code":"import { GLOBAL } from '../config/GLOBAL';\nimport { EMPTY } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nclass UserManagementService {\n  constructor(_http, _router) {\n    this._http = _http;\n    this._router = _router;\n    this.url = GLOBAL.url;\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  getUser() {\n    const token = this.getToken();\n    if (!token) {\n      this._router.navigate(['/auth/login']);\n      return EMPTY;\n    }\n    return this._http.get(`${this.url}getUser`);\n  }\n  createUser(data) {\n    return this._http.post(`${this.url}create_admin`, data);\n  }\n  updateUser(data) {\n    if (data.profileImage) {\n      const fd = new FormData();\n      fd.append('_id', data._id);\n      fd.append('userName', data.userName);\n      fd.append('firstName', data.firstName);\n      fd.append('lastName', data.lastName);\n      fd.append('organizationName', data.organizationName);\n      fd.append('emailAddress', data.emailAddress);\n      fd.append('countryAddress', data.countryAddress);\n      fd.append('stateAddress', data.stateAddress);\n      fd.append('phoneNumber', data.phoneNumber);\n      fd.append('birthday', data.birthday);\n      fd.append('role', data.role);\n      fd.append('identification', data.identification);\n      fd.append('additionalInfo', data.additionalInfo);\n      fd.append('profileImage', data.profileImage);\n      return this._http.put(`${this.url}update_admin`, fd);\n    } else {\n      return this._http.put(`${this.url}update_admin`, data);\n    }\n  }\n  static #_ = this.ɵfac = function UserManagementService_Factory(t) {\n    return new (t || UserManagementService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserManagementService,\n    factory: UserManagementService.ɵfac,\n    providedIn: 'root'\n  });\n}\nexport { UserManagementService };","map":{"version":3,"names":["GLOBAL","EMPTY","UserManagementService","constructor","_http","_router","url","getToken","localStorage","getItem","getUser","token","navigate","get","createUser","data","post","updateUser","profileImage","fd","FormData","append","_id","userName","firstName","lastName","organizationName","emailAddress","countryAddress","stateAddress","phoneNumber","birthday","role","identification","additionalInfo","put","_","i0","ɵɵinject","i1","HttpClient","i2","Router","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Javier\\Documents\\proyectos\\e-commerce\\admin\\src\\app\\core\\services\\user-management.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { LoginCredentials } from 'src/app/core/models';\nimport { GLOBAL } from '../config/GLOBAL';\nimport { Observable, throwError, Subject, EMPTY } from 'rxjs';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserManagementService {\n  private url: string = GLOBAL.url;\n  constructor(private _http: HttpClient, private _router: Router) { }\n\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  getUser(): Observable<any> {\n    const token = this.getToken();\n    if (!token) {\n      this._router.navigate(['/auth/login']);\n      return EMPTY;\n    }\n    return this._http.get(`${this.url}getUser`);\n  }\n\n  createUser(data: any): Observable<any> {\n    return this._http.post(`${this.url}create_admin`, data);\n  }\n\n  updateUser(data: any): Observable<any> {\n    if (data.profileImage) {\n      const fd = new FormData();\n      fd.append('_id', data._id);\n      fd.append('userName', data.userName);\n      fd.append('firstName', data.firstName);\n      fd.append('lastName', data.lastName);\n      fd.append('organizationName', data.organizationName);\n      fd.append('emailAddress', data.emailAddress);\n      fd.append('countryAddress', data.countryAddress);\n      fd.append('stateAddress', data.stateAddress);\n      fd.append('phoneNumber', data.phoneNumber);\n      fd.append('birthday', data.birthday);\n      fd.append('role', data.role);\n      fd.append('identification', data.identification);\n      fd.append('additionalInfo', data.additionalInfo);\n      fd.append('profileImage', data.profileImage);\n      return this._http.put(`${this.url}update_admin`, fd);\n    } else {\n      return this._http.put(`${this.url}update_admin`, data);\n    }\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}